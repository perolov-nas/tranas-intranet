@use 'variables' as *;
@use 'mixins' as *;

.tranas-news-feed__header {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: calc($gap / 1);
      margin-bottom: calc($unit * 2);

      .tranas-news-feed__personalized-badge {
            color: var(--color-text);
      }

      .tranas-news-feed__settings-link {
            @include button;
      }
}

.tranas-preferences__actions-top {
      margin-bottom: calc($unit * 2);
}

.tranas-news-feed {
    width: 100%;
    max-width: 100%;
}

.tranas-preferences__submit {
      @include button;
      background: var(--wp--preset--color--skogsgron-100);
}

.tranas-preferences__select-all {
      @include button;
      background: var(--wp--preset--color--skogsgron-100);
      color: var(--wp--preset--color--smokewhite);

      &:hover {
            background: var(--wp--preset--color--skogsgron-75);
            color: var(--wp--preset--color--smokewhite);
      }
}

.tranas-preferences__deselect-all {
      @include button;
      background: var(--wp--preset--color--tranasgranit-100);
      color: var(--wp--preset--color--smokewhite);

      &:hover {
            background: var(--wp--preset--color--tranasgranit-75);
            color: var(--wp--preset--color--smokewhite);
      }
}

.tranas-preferences__categories {
      display: flex;
      flex-wrap: wrap;
      gap: calc($unit * 0.75);
      width: 100%;
      margin-bottom: calc($unit * 2);

      // Custom checkbox - direkt styling på input
      input[type="checkbox"] {
            // Ta bort all browser-styling
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            
            // Custom styling
            position: relative;
            width: 1.25rem;
            height: 1.25rem;
            margin: 0;
            margin-right: 0.5rem;
            border: 2px solid var(--box-border);
            border-radius: 5px;
            background: var(--box-background);
            cursor: pointer;
            vertical-align: middle;
            transition: all 0.2s ease;
            flex-shrink: 0;
            
            &:hover {
                  border-color: var(--box-border-hover);
                  background: var(--background-overlay);
            }
            
            &:focus,
            &:focus-visible {
                  outline: 2px solid var(--link-color);
                  outline-offset: 2px;
            }
            
            // Checkmark med ::after
            &::after {
                  content: '';
                  position: absolute;
                  left: 6px;
                  top: 2px;
                  width: 5px;
                  height: 10px;
                  border: solid transparent;
                  border-width: 0 2.5px 2.5px 0;
                  transform: rotate(45deg) scale(0);
                  transition: all 0.15s ease;
            }
            
            // Checked state
            &:checked {
                  background: var(--wp--preset--color--skogsgron-100);
                  border-color: var(--wp--preset--color--skogsgron-100);
                  
                  &::after {
                        border-color: white;
                        transform: rotate(45deg) scale(1);
                  }
            }
      }
      
      // Label styling
      label {
            display: inline-flex;
            align-items: center;
            padding: calc($unit * 0.5) calc($unit * 1);
            background: var(--box-background);
            border: 1px solid var(--box-border);
            border-radius: $button-radius;
            color: var(--color-text);
            // font-size: 0.9rem;
            // font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
            
            &:hover {
                  background: var(--background-overlay);
                  border-color: var(--box-border-hover);
            }
            
            // Om checkbox är inuti label
            input[type="checkbox"] {
                  margin-right: 0.5rem;
            }
      }
      
      // Wrapper-variant (om den används)
      .tranas-news-preferences__category {
            display: inline-flex;
            align-items: center;
            
            label {
                  // Reset om label wrappas
                  display: inline-flex;
                  align-items: center;
            }
      }
}